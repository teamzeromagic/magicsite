"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[4801],{4258:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var i=n(4848),r=n(8453);const s={sidebar_position:3,title:"Social Authentication",description:"Quick Start with Basic Connections!",sidebar_label:"Social Authentication"},o="Social Authentication",c={id:"authentication/apireference/socialconnection",title:"Social Authentication",description:"Quick Start with Basic Connections!",source:"@site/docs/authentication/apireference/socialconnection.md",sourceDirName:"authentication/apireference",slug:"/authentication/apireference/socialconnection",permalink:"/docs/authentication/apireference/socialconnection",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/authentication/apireference/socialconnection.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Social Authentication",description:"Quick Start with Basic Connections!",sidebar_label:"Social Authentication"},sidebar:"magicSidebar",previous:{title:"Email with OTP",permalink:"/docs/authentication/apireference/basicauth/emailotp"},next:{title:"Overview",permalink:"/docs/graphql/overview"}},a={},d=[{value:"Step - 1 : Setup Social Connection",id:"step---1--setup-social-connection",level:2},{value:"Step - 2 : Get Authorisation Page URL",id:"step---2--get-authorisation-page-url",level:2},{value:"Path",id:"path",level:4},{value:"Header",id:"header",level:4},{value:"Body Data",id:"body-data",level:4},{value:"Response Body Data",id:"response-body-data",level:4},{value:"Request Example",id:"request-example",level:4},{value:"Response Example",id:"response-example",level:4},{value:"Step - 3 : User Success Response",id:"step---3--user-success-response",level:2},{value:"Query Params",id:"query-params",level:4},{value:"Success Response Example",id:"success-response-example",level:4},{value:"Error Response Example",id:"error-response-example",level:4},{value:"Support Social Providers",id:"support-social-providers",level:3}];function l(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"social-authentication",children:"Social Authentication"}),"\n",(0,i.jsxs)(t.p,{children:["Social Authentication allows your client to authenticate with social providers. The endpoints are pre-built and are easy for you to manage the social authentication flow from your client application. To get your ",(0,i.jsx)(t.code,{children:"{auth_base_url}"}),", check it out here - ",(0,i.jsx)(t.a,{href:"/authentication/apireference/generalinfo#get-started-with-base-url",children:"Get started with base url"}),"."]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Note : ",(0,i.jsx)(t.strong,{children:"Signup and Login"})," authentication methods are handled under this single endpoint. If the user logging with a provider does not exists, then new user is created or else existing user details are returned as response"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"step---1--setup-social-connection",children:"Step - 1 : Setup Social Connection"}),"\n",(0,i.jsxs)(t.p,{children:["To setup and get ",(0,i.jsx)(t.code,{children:"connection_name"})," of your preferrred social connection, check it our here - ",(0,i.jsx)(t.a,{href:"/authentication/quickstart/methods/social",children:"Setup your social connection"})]}),"\n",(0,i.jsx)(t.admonition,{title:"CALLBACK URL",type:"info",children:(0,i.jsxs)(t.p,{children:["Make sure to configure the below given call back URL in the third party service ",(0,i.jsx)(t.code,{children:"https://localhost:8000/oauth/callback/"})]})}),"\n",(0,i.jsx)(t.h2,{id:"step---2--get-authorisation-page-url",children:"Step - 2 : Get Authorisation Page URL"}),"\n",(0,i.jsxs)(t.p,{children:["You will need to redirect the user to preferred social provider page to grant access to your application. You can get this authorize url from the below endpoint. On opening the ",(0,i.jsx)(t.code,{children:"authorize_url"})," link, it will display a page asking the user to approve or deny access to your application. However, if you provide an invalid config credentials or redirect_uri then the user will instead see an error page."]}),"\n",(0,i.jsx)(t.h4,{id:"path",children:"Path"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Method"}),(0,i.jsx)(t.th,{children:"Endpoint"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"POST"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{auth_base_url}/oauth"})})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"header",children:"Header"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Datatype"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"APP-KEY"})," *"]}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"App key of the particular project"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"body-data",children:"Body Data"}),"\n",(0,i.jsxs)(t.p,{children:["POST the data in the ",(0,i.jsx)(t.strong,{children:"application/json"})," format."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Param"}),(0,i.jsx)(t.th,{children:"Datatype"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"connection_name"})," *"]}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"Unique connection_name of your social method"})]})})]}),"\n",(0,i.jsx)(t.h4,{id:"response-body-data",children:"Response Body Data"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Param"}),(0,i.jsx)(t.th,{children:"Datatype"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"connection_name"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"Unique connection_name of your social method"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"authorize_url"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"URL of authorisation consent page"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"request-example",children:"Request Example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'POST https://api.zeromagic.in/auth/353d1499ab5149e194a53cf0f6c837f4/development/oauth \nHTTP/1.1\nAPP-KEY : ldM6yPAAE3PRTZbHXrjqGGzZY2Yjm7GwjAyjbNqWH48\n\n{\n    "connection_name":"google"\n}\n'})}),"\n",(0,i.jsx)(t.h4,{id:"response-example",children:"Response Example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'HTTP/1.1 \n200 OK\n\n{\n    "connection_name":"google",\n    "authorize_url":"https://accounts.google.com/o/oauth2/auth?response_type=code&client_id=697287702987-gkvha4hnaucu0bks7p92b3.apps.googleusercontent.com&redirect_uri=http%3A//localhost%3A8000/api/oauth/callback&scope=https://www.googleapis.com/auth/userinfo.email&state=gAAAAABmITpQ_yFqTdppecJMBvXYFwa6lbJyF-DbxIfQ2LbvkEvErkFYQhrrqb_ABxWCXL75VcFGBf2cx010roKZ0VSFj8JHg-X6sieSSguLIoJfHF3l0t1QfA8F57wg4jmjZZEeQ=="\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["You can open this ",(0,i.jsx)(t.code,{children:"authorize_url"})," from your client applicantion end and it will be prompted to user consent page."]}),"\n",(0,i.jsx)(t.h2,{id:"step---3--user-success-response",children:"Step - 3 : User Success Response"}),"\n",(0,i.jsx)(t.admonition,{title:"Client Redirect Uri",type:"info",children:(0,i.jsxs)(t.p,{children:["It is necessary to add your ",(0,i.jsx)(t.strong,{children:"client application in oauth redirect uri"})," under project settings. The success response is appended to your client application redirect uri as query params. To add oauth redirect uri, check it our here - ",(0,i.jsx)(t.a,{href:"/authentication/quickstart/methods/social",children:"Add OAuth Redirect uri"})]})}),"\n",(0,i.jsx)(t.h4,{id:"query-params",children:"Query Params"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Datatype"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"user_id"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"User Id of the user"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"email"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"Email of the user"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"access_token"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"JWT access token is returned"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"token_type"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsxs)(t.td,{children:["Value is ",(0,i.jsx)(t.em,{children:"bearer"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"expires_in"})}),(0,i.jsx)(t.td,{children:"String"}),(0,i.jsx)(t.td,{children:"Currently no expiry time for token, Returns None"})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["The output response will be in the format of ",(0,i.jsx)(t.code,{children:"{client_oauth_redirect_uri}?{success_params}"}),"\nFor example, if your client_oauth_redirect_uri is ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.a,{href:"https://zeromagic.in/",children:"https://zeromagic.in/"})})," then success response will be in the format of ",(0,i.jsx)(t.code,{children:"https://client.zeromagic.in/?user_id=&access_token=&token_type=&expires_in="})]}),"\n",(0,i.jsx)(t.h4,{id:"success-response-example",children:"Success Response Example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"GET https://client.zeromagic.in/?user_id=1&access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIzNDU2Nzg5LCJuYW1lIjoiSm9zZXBoIn0.OpOSSw7e485LOP5PrzScxHb7SR6sAOMRckfFwi4rp7o&token_type=bearer&expires_in=null\nHTTP/1.1 \n"})}),"\n",(0,i.jsx)(t.h4,{id:"error-response-example",children:"Error Response Example"}),"\n",(0,i.jsxs)(t.p,{children:["The error message is also appended to the redirect uri as query params.The error message will be in the format of ",(0,i.jsx)(t.code,{children:"https://client.zeromagic.in/?error=&message=&code=&state="})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"GET https://client.zeromagic.in/?error=error&message=message&code=error_code&state=gAAAAABmIWikfuZW6M2N5P6aGiL7wZOp1D_wCC2aIP4nlqFmVjS7KhHByd5zJjK_BpFeAc8yj24CDDmCtgC4MV1bATWEKzmkLw%3D%3D\nHTTP/1.1 \n"})}),"\n",(0,i.jsx)(t.h3,{id:"support-social-providers",children:"Support Social Providers"}),"\n",(0,i.jsxs)(t.p,{children:["To know about the supported social providers, visit here - ",(0,i.jsx)(t.a,{href:"/authentication/quickstart/methods/social#supported-social-providers",children:"Supported Social Providers"})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var i=n(6540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);