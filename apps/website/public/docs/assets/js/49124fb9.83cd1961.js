"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2118],{9249:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>u,toc:()=>d});var r=t(4848),s=t(8453),o=t(1470),a=t(9365);const i={slug:"how-to-use-multiple-environments-to-fetch-rest-apis",title:"How to Use Multiple Environments to Fetch REST APIs",tags:["workflow","tutorial","GET","POST"],authors:"rohith",date:"2024-05-30T10:00"},l=void 0,u={permalink:"/docs/blog/how-to-use-multiple-environments-to-fetch-rest-apis",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/how-to-use-multiple-environments-to-fetch-rest-apis/index.md",source:"@site/blog/how-to-use-multiple-environments-to-fetch-rest-apis/index.md",title:"How to Use Multiple Environments to Fetch REST APIs",description:"env-banner",date:"2024-05-30T10:00:00.000Z",tags:[{label:"workflow",permalink:"/docs/blog/tags/workflow"},{label:"tutorial",permalink:"/docs/blog/tags/tutorial"},{label:"GET",permalink:"/docs/blog/tags/get"},{label:"POST",permalink:"/docs/blog/tags/post"}],readingTime:3.47,hasTruncateMarker:!0,authors:[{name:"Rohith ND",title:"Co-Founder",url:"https://ndrohith09.netlify.app/",email:"ndrohith09@gmail.com",imageURL:"https://avatars.githubusercontent.com/u/73429989?v=4",key:"rohith"}],frontMatter:{slug:"how-to-use-multiple-environments-to-fetch-rest-apis",title:"How to Use Multiple Environments to Fetch REST APIs",tags:["workflow","tutorial","GET","POST"],authors:"rohith",date:"2024-05-30T10:00"},unlisted:!1,prevItem:{title:"Learn to use Cosmos Database Operations",permalink:"/docs/blog/learn-to-use-cosmos-database-operations"},nextItem:{title:"Build Your First REST API in minutes using Zeromagic Flow Builder",permalink:"/docs/blog/build-your-first-rest-api-in-minutes-using-zeromagic-flow-builder"}},c={authorsImageUrls:[void 0]},d=[{value:"What is an Environment?",id:"what-is-an-environment",level:3},{value:"Why Use Multiple Environments?",id:"why-use-multiple-environments",level:3},{value:"Setting Up Multiple Environments",id:"setting-up-multiple-environments",level:2},{value:"Fetching REST APIs with Environments",id:"fetching-rest-apis-with-environments",level:2},{value:"Step 1: Create a Function to Fetch Data",id:"step-1-create-a-function-to-fetch-data",level:3},{value:"Step 2: Set the Current Environment",id:"step-2-set-the-current-environment",level:3},{value:"Step 3: Fetch Data Using the Current Environment",id:"step-3-fetch-data-using-the-current-environment",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"env-banner",src:t(5301).A+"",width:"1366",height:"768"})}),"\n","\n",(0,r.jsx)(n.p,{children:"In this blog post, we will explore how to leverage multiple environments on our platform to efficiently manage and fetch REST APIs. Our platform allows you to define different environments, each with its own base URL, making it easier to handle development, testing, and production stages of your applications."}),"\n",(0,r.jsx)(n.h3,{id:"what-is-an-environment",children:"What is an Environment?"}),"\n",(0,r.jsx)(n.p,{children:"An environment is a distinct configuration setting that defines the base URL and other specific parameters for your REST APIs. This setup allows you to switch between different stages of your application, such as development, testing, and production, without changing the core code."}),"\n",(0,r.jsx)(n.h3,{id:"why-use-multiple-environments",children:"Why Use Multiple Environments?"}),"\n",(0,r.jsx)(n.p,{children:"Using multiple environments helps you:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Isolate Development Stages: Keep development, testing, and production settings separate."}),"\n",(0,r.jsx)(n.li,{children:"Avoid Configuration Errors: Minimize the risk of using incorrect URLs or settings."}),"\n",(0,r.jsx)(n.li,{children:"Facilitate Testing: Test APIs in different scenarios without affecting production data."}),"\n",(0,r.jsx)(n.li,{children:"Flexibility: Easily switch between environments based on your needs."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-multiple-environments",children:"Setting Up Multiple Environments"}),"\n",(0,r.jsxs)(n.p,{children:["Start by defining the different environments you need in the ",(0,r.jsx)(n.code,{children:"Environments"})," section of the ",(0,r.jsx)(n.code,{children:"Project Console"}),". Common examples include Development, Testing, and Production. Each environment will have its own base URL."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Environments",src:t(8827).A+"",width:"1562",height:"269"})}),"\n",(0,r.jsx)(n.p,{children:"In your application, you can switch between environments based on your current stage. This can be done by setting the environment configuration at runtime."}),"\n",(0,r.jsx)(n.admonition,{title:"Information",type:"info",children:(0,r.jsxs)(n.p,{children:["Reference: ",(0,r.jsx)(n.a,{href:"/basics/environment/",children:"Learn to Create Environment"})]})}),"\n",(0,r.jsx)(n.h2,{id:"fetching-rest-apis-with-environments",children:"Fetching REST APIs with Environments"}),"\n",(0,r.jsx)(n.p,{children:"Let\u2019s say you have an API endpoint to fetch user data. The endpoint remains the same across environments, but the base URL changes."}),"\n",(0,r.jsx)(n.p,{children:"Your platform has two environments: development (dev) and production (prod)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Development Environment: Base URL: ",(0,r.jsx)(n.code,{children:"https://dev.your-api.com/api/v1"})]}),"\n",(0,r.jsxs)(n.li,{children:["Production Environment: Base URL: ",(0,r.jsx)(n.code,{children:"https://prod.your-api.com/api/v1"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-1-create-a-function-to-fetch-data",children:"Step 1: Create a Function to Fetch Data"}),"\n",(0,r.jsx)(n.p,{children:"Create a function to fetch user data that dynamically uses the base URL based on the current environment."}),"\n",(0,r.jsxs)(o.A,{groupId:"operating-systems",children:[(0,r.jsx)(a.A,{value:"javascript",label:"Javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"\nconst APP_KEY = \"your_app_key\"\n\nasync function fetchUserData(environment, userId) {\nconst baseUrl = environment.baseUrl;\nconst appKey = environment.appKey;\nconst endpoint = `/users/${userId}`;\nconst url = `${baseUrl}${endpoint}`;\n\nconst headers = {\n  'APP_KEY': `${APP_KEY}`\n};\n\ntry {\n  const response = await fetch(url, {\n    method: 'GET',\n    headers: headers\n  });\n\n  if (!response.ok) {\n    throw new Error(`Error fetching user data: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  console.log('User Data:', data);\n  return data;\n} catch (error) {\n  console.error(error);\n  return null;\n}\n}\n\n"})})}),(0,r.jsx)(a.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:'import requests\n\nAPP_KEY = "your_app_key"\n\ndef fetch_user_data(environment, user_id):\n  base_url = environment["base_url"]\n  endpoint = f"/users/{user_id}"\n  url = f"{base_url}{endpoint}"\n\n  headers = {\n      "APP_KEY": f"{APP_KEY}"\n  }\n\n  try:\n      response = requests.get(url, headers=headers)\n      response.raise_for_status()  # Raise an error for bad status codes\n      data = response.json()\n      print(\'User Data:\', data)\n      return data\n  except requests.exceptions.RequestException as e:\n      print(f"Error fetching user data: {e}")\n      return None\n\n'})})})]}),"\n",(0,r.jsx)(n.admonition,{title:"Information",type:"info",children:(0,r.jsx)(n.p,{children:"Ensure your APP_KEY is securely managed using secrets in the production environment."})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-set-the-current-environment",children:"Step 2: Set the Current Environment"}),"\n",(0,r.jsxs)(n.p,{children:["A dictionary ",(0,r.jsx)(n.code,{children:"environments"})," holds the configuration for different environments created in the Zeromagic platform."]}),"\n",(0,r.jsxs)(o.A,{groupId:"operating-systems",children:[(0,r.jsx)(a.A,{value:"javascript",label:"Javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'const environments = {\n  development: {\n      name: "Development",\n      baseUrl: "https://dev.api.yourplatform.com"\n  },\n  production: {\n      name: "Production",\n      baseUrl: "https://api.yourplatform.com"\n  }\n};\n\n// Set the current environment\nconst currentEnvironment = environments.development;\n'})})}),(0,r.jsx)(a.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:'environments = {\n  "development": {\n      "name": "Development",\n      "base_url": "https://dev.api.yourplatform.com"\n  }, \n  "production": {\n      "name": "Production",\n      "base_url": "https://api.yourplatform.com"\n  }\n}\n\n# Set the current environment\ncurrent_environment = environments["development"]\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-fetch-data-using-the-current-environment",children:"Step 3: Fetch Data Using the Current Environment"}),"\n",(0,r.jsx)(n.p,{children:"The function fetch_user_data is called with the current environment and a user ID to fetch the user data."}),"\n",(0,r.jsxs)(o.A,{groupId:"operating-systems",children:[(0,r.jsx)(a.A,{value:"javascript",label:"Javascript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"fetchUserData(currentEnvironment, 12345);\n"})})}),(0,r.jsx)(a.A,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"user_data = fetch_user_data(current_environment, 12345)\n"})})})]}),"\n",(0,r.jsx)(n.p,{children:"This approach allows you to dynamically switch between different environments by simply changing the value of current environment, making your API management more flexible and robust."}),"\n",(0,r.jsx)(n.p,{children:"Using multiple environments to fetch REST APIs is a powerful strategy to manage different stages of your application lifecycle. By defining distinct configurations for development, testing, and production, you can isolate and control your API interactions effectively. This not only enhances your development workflow but also ensures that your application remains robust and error-free across various environments."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var r=t(4164);const s={tabItem:"tabItem_Ymn6"};var o=t(4848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,a),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540),s=t(4164),o=t(3104),a=t(6347),i=t(205),l=t(7485),u=t(1682),c=t(9466);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,u.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const s=(0,a.W6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(s.location.search);n.set(o,e),s.replace({...s.location,search:n.toString()})}),[o,s])]}function v(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,o=h(e),[a,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:o}))),[u,d]=m({queryString:t,groupId:s}),[v,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,o]=(0,c.Dv)(t);return[s,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:s}),g=(()=>{const e=u??v;return p({value:e,tabValues:o})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)}),[d,f,o]),tabValues:o}}var f=t(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function y(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,o.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),s=i[t].value;s!==r&&(u(n),a(s))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:d,onClick:c,...o,className:(0,s.A)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function x(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function j(e){const n=v(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",g.tabList),children:[(0,b.jsx)(y,{...e,...n}),(0,b.jsx)(x,{...e,...n})]})}function w(e){const n=(0,f.A)();return(0,b.jsx)(j,{...e,children:d(e.children)},String(n))}},5301:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/env-banner-4d78df20979e1f3e91989c762d035004.png"},8827:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/environments-7cb5e302dc7d7b7b3db0a6e92a7d1fb4.png"},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var r=t(6540);const s={},o=r.createContext(s);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);